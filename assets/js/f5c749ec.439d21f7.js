"use strict";(globalThis.webpackChunkzipfood_docs=globalThis.webpackChunkzipfood_docs||[]).push([[1875],{7901:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>t,default:()=>a,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"orders-module","title":"Orders Module Documentation","description":"Tags: API Module Technical Orders","source":"@site/docs/orders-module.md","sourceDirName":".","slug":"/orders-module","permalink":"/docs/docs/orders-module","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/orders-module.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ZIPFood Order Lifecycle & Fulfillment (Client Guide)","permalink":"/docs/docs/order-lifecycle"},"next":{"title":"Payment Method Module Documentation","permalink":"/docs/docs/payment-methods"}}');var d=s(4848),i=s(8453);const o={},t="Orders Module Documentation",l={},c=[{value:"<strong>Purpose</strong>",id:"purpose",level:2},{value:"<strong>Controller Endpoints</strong>",id:"controller-endpoints",level:2},{value:"<strong>Main Service:\xa0<code>OrdersService</code></strong>",id:"main-serviceordersservice",level:2},{value:"Responsibilities",id:"responsibilities",level:3},{value:"Key Methods",id:"key-methods",level:3},{value:"<strong>Extending/Customizing</strong>",id:"extendingcustomizing",level:2}];function h(e){const r={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.header,{children:(0,d.jsx)(r.h1,{id:"orders-module-documentation",children:"Orders Module Documentation"})}),"\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.strong,{children:"Tags:"})," ",(0,d.jsx)(r.code,{children:"API Module"})," ",(0,d.jsx)(r.code,{children:"Technical"})," ",(0,d.jsx)(r.code,{children:"Orders"})]}),"\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.strong,{children:"Location:"})," ",(0,d.jsx)(r.code,{children:"src/orders/"})]}),"\n",(0,d.jsx)(r.h2,{id:"purpose",children:(0,d.jsx)(r.strong,{children:"Purpose"})}),"\n",(0,d.jsx)(r.p,{children:"Handles creation, retrieval, update, assignment, and status management of orders. Integrates with robots, pilots, payment, notifications, and supports reporting/export."}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.h2,{id:"controller-endpoints",children:(0,d.jsx)(r.strong,{children:"Controller Endpoints"})}),"\n",(0,d.jsx)(r.p,{children:(0,d.jsx)(r.em,{children:"Endpoints are documented in Swagger; here is a summary:"})}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders"}),"\xa0\u2014 Get all orders for current user"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/download-report/:type"}),"\xa0\u2014 Download orders as CSV/Excel/PDF"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/pilot-queued"}),"\xa0\u2014 Get queued orders for pilots"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/robot-queued"}),"\xa0\u2014 Get queued orders for robots"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/robot-active/:robotId"}),"\xa0\u2014 Get active order for a robot"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/pilot-orders"}),"\xa0\u2014 Get pilot\u2019s orders"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/pilot-active-orders"}),"\xa0\u2014 Get pilot\u2019s active orders"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/customer-orders"}),"\xa0\u2014 Get customer\u2019s robot orders"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/unassigned"}),"\xa0\u2014 Get unassigned orders"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/:id"}),"\xa0\u2014 Get order by ID"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"POST /orders"}),"\xa0\u2014 Create order"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"PATCH /orders/:id"}),"\xa0\u2014 Update order"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"PATCH /orders/:id/status"}),"\xa0\u2014 Update order status"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"GET /orders/:id/status-history"}),"\xa0\u2014 Get order status history"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"POST /orders/estimates"}),"\xa0\u2014 Request order estimates"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"PATCH /orders/:id/assign"}),"\xa0\u2014 Assign order to robot/pilot"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.code,{children:"PATCH /orders/:id/complete"}),"\xa0\u2014 Complete order"]}),"\n"]}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.h2,{id:"main-serviceordersservice",children:(0,d.jsxs)(r.strong,{children:["Main Service:\xa0",(0,d.jsx)(r.code,{children:"OrdersService"})]})}),"\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.strong,{children:"Location:"}),"\xa0",(0,d.jsx)(r.code,{children:"src/orders/orders.service.ts"})]}),"\n",(0,d.jsx)(r.h3,{id:"responsibilities",children:"Responsibilities"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"Order CRUD:"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"Create, retrieve, update, and delete orders."}),"\n",(0,d.jsx)(r.li,{children:"Manage order status and history."}),"\n",(0,d.jsx)(r.li,{children:"Assign orders to robots/pilots."}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"Reporting:"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"Generate CSV, Excel, and PDF reports for orders."}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"Notifications:"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"Send notifications and emails on order updates/status changes."}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"Estimates:"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"Calculate and cache order estimates."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(r.h3,{id:"key-methods",children:"Key Methods"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"ordersByUser(user_id, searchParams)"}),":"]}),"\n",(0,d.jsx)(r.p,{children:"Get orders for a user with filters."}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"getOrderById(id)"}),":"]}),"\n",(0,d.jsx)(r.p,{children:"Retrieve order by ID."}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"createOrder(data, prisma?)"}),":"]}),"\n",(0,d.jsx)(r.p,{children:"Create a new order."}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"updateOrder(where, data, prisma?)"}),":"]}),"\n",(0,d.jsx)(r.p,{children:"Update order data."}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"createOrderStatusHistory(data, prisma?)"}),":"]}),"\n",(0,d.jsx)(r.p,{children:"Add a status change to order history."}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"assignOrder(order_id, user_robot_id?, pilot_id?)"}),":"]}),"\n",(0,d.jsx)(r.p,{children:"Assign order to robot or pilot."}),"\n"]}),"\n",(0,d.jsxs)(r.li,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"generateOrdersCsv/Excel/Pdf(...)"}),":"]}),"\n",(0,d.jsx)(r.p,{children:"Export orders in various formats."}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.h2,{id:"extendingcustomizing",children:(0,d.jsx)(r.strong,{children:"Extending/Customizing"})}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"Add new order fields in the Prisma schema and regenerate Zod types."}),"\n",(0,d.jsx)(r.li,{children:"Extend controller/service for additional business logic (e.g., custom assignment rules, notifications)."}),"\n",(0,d.jsx)(r.li,{children:"Integrate with other modules (e.g., payments, robots, pilots) as needed."}),"\n"]}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.p,{children:(0,d.jsx)(r.strong,{children:"Document Information"})}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"Created by: Mark Serbol"}),"\n",(0,d.jsx)(r.li,{children:"Created time: July 27, 2025 8:47 AM"}),"\n",(0,d.jsx)(r.li,{children:"Category: API Module, Technical"}),"\n",(0,d.jsx)(r.li,{children:"Last edited by: Mark Serbol"}),"\n",(0,d.jsx)(r.li,{children:"Last updated time: August 3, 2025 9:12 AM"}),"\n"]})]})}function a(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>o,x:()=>t});var n=s(6540);const d={},i=n.createContext(d);function o(e){const r=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);